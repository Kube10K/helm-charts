# cluster-autoscaler

![Version: 0.0.2](https://img.shields.io/badge/Version-0.0.2-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v1.23.0](https://img.shields.io/badge/AppVersion-v1.23.0-informational?style=flat-square)

Cluster Autoscaler Chart with built-in Addon Resizer

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| args | list | `["--v=4","--stderrthreshold=info","--skip-nodes-with-local-storage=false","--expander=least-waste","--cloud-provider=aws","--scale-down-delay-after-add=30m","--scan-interval=30s","--skip-nodes-with-system-pods=false","--balance-similar-node-groups=false"]` | (`strings[]`) List of Command Line Args passed into the `cluster-autoscaler` binary |
| caBundle | string | `"ca-bundle.crt"` | (`string`) Path to the CA Bundle on the underlying EC2 hosts. Default value here is Bottlerocket specific. This is combined with the `.Values.sslPath` setting for the final fully qualified filename. |
| clusterName | `string` | `nil` | Required clusterName field to enable auto-discovery of the managed nodegroups |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"k8s.gcr.io/autoscaling/cluster-autoscaler"` | (`string`) The Docker Image and Repository |
| image.tag | `string` | `nil` | The image version we will run. |
| nodeAffinity | object | `{}` | (`map`) Configures the Pod nodeAffinity rules |
| nodeSelector | object | `{"kubernetes.io/arch":"amd64"}` | (`map`) Map that controls which nodes this daemonset is applied to. |
| podAnnotations | object | `{}` | (`map`) Annotations to add to the Pods themselves. |
| podAntiAffinity | object | `{"requiredDuringSchedulingIgnoredDuringExecution":[{"labelSelector":{"matchExpressions":[{"key":"app","operator":"In","values":["cluster-autoscaler"]}]},"topologyKey":"kubernetes.io/hostname"}]}` | (`map`) Configures the Pod antiAffinity rules. By default we do not allow the pods to run on the same hosts. |
| podDisruptionBudget | object | `{"maxUnavailable":1}` | (`map`) Configuration for the PodDisruptionBudget |
| podNanny.args[0] | string | `"--poll-period=300000"` |  |
| podNanny.args[1] | string | `"--threshold=25"` |  |
| podNanny.args[2] | string | `"--scale-down-delay=36h"` |  |
| podNanny.args[3] | string | `"--scale-up-delay=10m"` |  |
| podNanny.args[4] | string | `"--minClusterSize=10"` |  |
| podNanny.args[5] | string | `"--cpu=250m"` |  |
| podNanny.args[6] | string | `"--extra-cpu=4m"` |  |
| podNanny.args[7] | string | `"--extra-memory=12Mi"` |  |
| podNanny.args[8] | string | `"--memory=512Mi"` |  |
| podNanny.image.pullPolicy | string | `"IfNotPresent"` |  |
| podNanny.image.repository | string | `"k8s.gcr.io/autoscaling/addon-resizer"` |  |
| podNanny.image.tag | string | `"1.8.14"` |  |
| podNanny.resources.limits.cpu | string | `"300m"` |  |
| podNanny.resources.limits.memory | string | `"200Mi"` |  |
| podNanny.resources.requests.cpu | string | `"300m"` |  |
| podNanny.resources.requests.memory | string | `"200Mi"` |  |
| podSecurityPolicy.create | bool | `true` | (`bool`) Whether or not to create a PodSecurityPolicy that grants the Cluster-Autoscaler pods access to the /etc/ssl/certs/ca-bundle.crt file. ref: https://github.com/kubernetes/autoscaler/tree/cluster-autoscaler-1.13.5/cluster-autoscaler/cloudprovider/aws#common-notes-and-gotchas |
| replicas | int | `2` | (`int`) Number of Cluster-Autoscaler pods to run for redundancy. **Note: Only one takes action at a time** |
| resources | object | `{"requests":{"cpu":"30m","memory":"50Mi"}}` | (`map`) The default configuration that caches around ~10k items is supposed to use ~30Mi of memory at max according to the documentation: https://kubernetes.io/docs/tasks/administer-cluster/nodelocaldns/#setting-memory-limits |
| serviceAccount.annotations | object | `{}` | (`map`) Annotations to add to the ServiceAccount. |
| serviceAccount.create | bool | `true` | (`bool`) Whether or not to create the node-local-dns ServiceAccount. |
| serviceAccount.name | string | `""` | (`string`) Optional hard-coded override for the name of the ServiceAccount. |
| sslPath | string | `"/etc/ssl/certs"` | (`string`) The path on the underlying EC2 hosts that the `.Values.caBundle` file can be found at. This is used for both the file mount, and the PodSecurityPolicy allowedHostPaths setting. |
| tolerations | list | `[]` | (`map`) Configures which tolerations this pod will accept. |
| updateStrategy | object | `{"rollingUpdate":{"maxUnavailable":"10%"}}` | (`map`) Configure the deployment strategy for the pods, to ensure we don't roll out too many at once. |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.5.0](https://github.com/norwoodj/helm-docs/releases/v1.5.0)
